/* ===== 全域 ===== */
*{ box-sizing:border-box }
html,body{ height:100% }
body{
    margin:0; background:#000; color:#fff;
    font-family:"Noto Sans TC",system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
    overflow:hidden;
}
#game-root{ position:relative; width:100vw; height:100vh; }

/* ===== 登入層 ===== */
.login-layer{ position:absolute; inset:0; z-index:10; overflow:hidden; }
.stars{
    position:absolute; inset:0;
    background: radial-gradient(#fff 1px, transparent 1px);
    background-size: 6px 6px; opacity:.35;
}
/* 純CSS旋轉地球*/
/* ===== 真實地球旋轉效果 ===== */
.earth-wrap {
    position: absolute;
    left: 50%;
    top: 38%;
    transform: translate(-50%, -50%);
    width: min(320px, 45vw);
    height: min(320px, 45vw);
    filter: drop-shadow(0 30px 80px rgba(0,0,0,0.5));
}

.earth {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    position: relative;
    overflow: hidden;

    /* 使用地球貼圖 */
    background: url("../assets/images/earth-map.jpg") repeat-x;
    background-size: cover;

    /* 旋轉動畫 */
    animation: earth-spin 18s linear infinite;

    /* 外圍光暈與立體陰影 */
    box-shadow: inset 0 0 25px rgba(0,0,0,0.7),
    0 0 40px rgba(0,150,255,0.8);
}

.earth::after {
    /* 加上光影立體效果 */
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.3), transparent 40%),
    radial-gradient(circle at 70% 70%, rgba(0,0,0,0.7), transparent 55%);
    pointer-events: none;
}

@keyframes earth-spin {
    0% { background-position: 0 0; }
    100% { background-position: -100% 0; } /* 貼圖水平移動模擬旋轉 */
}


/* 旋轉動畫 */
@keyframes earth-spin {
    0% { background-position: 0 0; }
    100% { background-position: -400px 0; }
}

/* 登入 UI */
.login-ui{
    position:absolute; left:50%; top:72%; transform:translate(-50%,-50%);
    width:min(560px,92vw); text-align:center;
    background: rgba(0,0,0,.55);
    border:1px solid rgba(255,255,255,.25);
    border-radius:16px;
    padding:16px 18px;
    backdrop-filter: blur(8px);
}
#login-choices{ display:grid; gap:8px; grid-template-columns:1fr 1fr; }
#login-choices button{
    all:unset; cursor:pointer; text-align:center;
    padding:10px 12px;
    background:rgba(255,255,255,.12);
    border:1px solid rgba(255,255,255,.28);
    border-radius:10px;
    transition:.15s;
}
#login-choices button:hover{
    background:rgba(255,255,255,.25);
    transform: translateY(-2px);
}

/* ===== 遊戲背景 ===== */
.bg{
    position:absolute; inset:0; z-index:0;
    display:none;
    background-size:cover;
    background-position:center;
}

/* ===== 角色（只有淡入） ===== */
.character{
    position:absolute; bottom:96px;
    width:min(26vw,360px); height:min(70vh,640px);
    display:none; align-items:flex-end;
    opacity:0; z-index:3;
}
.character.active{
    display:flex;
    animation: fadeIn 0.6s ease forwards;
}
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
.side-left{ left:2% }
.side-right{ right:2% }
.character .avatar{
    width:100%; height:100%;
    background-size:contain;
    background-repeat:no-repeat;
    background-position: bottom center;
}
.character .name{
    position:absolute; bottom:0; left:10px;
    background:rgba(0,0,0,.55);
    border:1px solid rgba(255,255,255,.25);
    padding:4px 8px;
    border-radius:8px;
    font-size:14px;
}

/* ===== 對話框 ===== */
.dialog{
    position:absolute; left:50%; transform:translateX(-50%);
    bottom:20px;
    width:min(900px,76vw);
    background:rgba(0,0,0,.6);
    border:1px solid rgba(255,255,255,.22);
    border-radius:14px;
    padding:12px 16px;
    z-index:4;
    display:none;
}
.scene-title{ font-weight:800; color:#ffd166; margin-bottom:6px }
.dialog-text{ font-size:16px; line-height:1.6; min-height:44px; }

/* ===== 選項 ===== */
.choices{
    position:absolute; left:50%; transform:translateX(-50%);
    bottom:130px;
    display:none;
    flex-direction:column;
    gap:18px;
    z-index:5;
    align-items:center;
}
.choice-btn {
    all: unset;
    cursor: pointer;
    width: min(420px, 90vw);
    text-align: center;

    /* 深色背景 */
    background: rgba(20, 20, 20, 0.85);  /* 原本 0.14 → 現在更深 */
    border: 1px solid rgba(255, 255, 255, 0.4);

    padding: 12px 16px;
    border-radius: 12px;
    font-size: 18px;
    font-weight: 600;
    color: #fff;
    transition: 0.2s;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.6); /* 陰影更明顯 */
}

.choice-btn:hover {
    transform: translateY(-2px);
    background: rgba(40, 40, 40, 0.95); /* 滑過時更深 */
    border-color: rgba(255, 255, 255, 0.6);
}



.choice-btn:hover{
    transform:translateY(-2px);
    background:rgba(255,255,255,.28);
}

/* ===== 小遊戲卡片 ===== */
.mini-game{ position:absolute; inset:0; z-index:6; display:grid; place-items:center; }
.mini-card{
    width:min(680px,92vw);
    background:rgba(0,0,0,.72);
    border:1px solid rgba(255,255,255,.22);
    border-radius:14px;
    padding:16px;
    backdrop-filter: blur(6px);
}
.mini-title{ font-size:20px; font-weight:800; margin-bottom:8px }
.mini-question{ font-size:22px; margin:8px 0 14px }
.mini-options{ display:grid; gap:10px }
.mini-btn{
    all:unset; cursor:pointer; text-align:left;
    background:rgba(255,255,255,.14);
    border:1px solid rgba(255,255,255,.32);
    padding:10px 12px;
    border-radius:10px;
    transition:.15s;
}
.mini-btn:hover{ background:rgba(255,255,255,.28) }
.mini-progress{ margin-top:10px; opacity:.85; font-size:14px }
